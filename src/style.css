@import 'tailwindcss';

/* Modern Design System Variables */
:root {
  /* Base colors - enhanced dark theme */
  --bg-primary: #0a0a0f;
  --bg-secondary: #13131a;
  --bg-tertiary: #1a1a24;
  --bg-card: #1e1e2e;
  --bg-card-elevated: #24243a;
  
  /* Accent colors */
  --accent-primary: #6366f1; /* indigo-500 */
  --accent-primary-hover: #4f46e5; /* indigo-600 */
  --accent-secondary: #8b5cf6; /* violet-500 */
  
  /* Category colors */
  --category-push: #ef4444; /* red-500 */
  --category-pull: #3b82f6; /* blue-500 */
  --category-legs: #22c55e; /* green-500 */
  --category-warmup: #f59e0b; /* amber-500 */
  --category-cardio: #ec4899; /* pink-500 */
  
  /* Borders & shadows */
  --border-subtle: rgba(255, 255, 255, 0.05);
  --border-medium: rgba(255, 255, 255, 0.1);
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.15);
}

/* Modern card styles */
.card-modern {
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  box-shadow: var(--shadow-sm);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-modern:hover {
  border-color: var(--border-medium);
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.card-elevated {
  background: var(--bg-card-elevated);
  box-shadow: var(--shadow-md);
}

/* Gradient overlays for depth */
.gradient-overlay {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
}

.glass-effect {
  background: rgba(30, 30, 46, 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

/* Typography scale */
.text-display {
  font-size: clamp(2rem, 5vw, 3rem);
  font-weight: 700;
  line-height: 1.1;
  letter-spacing: -0.02em;
}

.text-heading-xl {
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 700;
  line-height: 1.2;
  letter-spacing: -0.01em;
}

.text-heading-lg {
  font-size: clamp(1.25rem, 2.5vw, 1.5rem);
  font-weight: 600;
  line-height: 1.3;
}

.text-heading-md {
  font-size: 1.125rem;
  font-weight: 600;
  line-height: 1.4;
}

/* Label styles */
.label-category {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: rgba(255, 255, 255, 0.6);
}

/* Modern calendar styling */
.calendar-day {
  @apply rounded-xl p-3 cursor-pointer flex flex-col items-center justify-center;
  min-height: 72px;
  border: 1px solid var(--border-subtle);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.calendar-day:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

/* Category color utilities */
.bg-category-push { background-color: var(--category-push); }
.bg-category-pull { background-color: var(--category-pull); }
.bg-category-legs { background-color: var(--category-legs); }
.bg-category-warmup { background-color: var(--category-warmup); }

.text-category-push { color: var(--category-push); }
.text-category-pull { color: var(--category-pull); }
.text-category-legs { color: var(--category-legs); }
.text-category-warmup { color: var(--category-warmup); }

/* Workout markers with modern styling */
.workout-push { 
  background: linear-gradient(90deg, var(--category-push) 0%, rgba(239, 68, 68, 0.5) 100%);
}
.workout-pull { 
  background: linear-gradient(90deg, var(--category-pull) 0%, rgba(59, 130, 246, 0.5) 100%);
}
.workout-legs { 
  background: linear-gradient(90deg, var(--category-legs) 0%, rgba(34, 197, 94, 0.5) 100%);
}

/* iOS Safe Areas and Typography */
html, body { 
  height: 100%; 
  margin: 0;
  padding: 0;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 17px; /* iOS base font size */
  line-height: 1.47;
}

/* Safe area container */
.app {
  padding-left: 16px; 
  padding-right: 16px;
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
  padding-top: calc(8px + env(safe-area-inset-top));
  min-height: 100vh;
}

/* Tab bar safe area */
.tabbar {
  padding-bottom: env(safe-area-inset-bottom);
}

/* iOS Dynamic Type support - using Tailwind classes instead of custom */

/* iOS minimum text size enforcement */
* {
  font-size: max(11px, 1em);
}

/* iOS-optimized component styles */

/* Calendar container */
.calendar-container {
    @apply w-full;
}

/* Calendar day cells - improved spacing and readability */
.calendar-day {
    @apply relative flex flex-col items-center justify-center rounded-xl shadow-sm transition-all duration-200 cursor-pointer;
    @apply bg-gray-800 border border-gray-700;
    min-height: 64px; /* Increased from 44px for better touch targets */
    padding: 12px 8px; /* Increased padding for better spacing */
    margin: 0; /* Remove margin to use grid gap instead */
    aspect-ratio: 1; /* Make cells square */
}

/* Responsive calendar day sizing */
@media (max-width: 390px) {
    .calendar-day {
        min-height: 56px;
        padding: 8px 4px;
    }
}

@media (min-width: 768px) {
    .calendar-day {
        min-height: 72px;
        padding: 16px 12px;
    }
}

.calendar-day:hover {
    @apply bg-gray-700 ring-2 ring-indigo-500 transform scale-105;
}

.calendar-day.today {
    @apply bg-indigo-600 text-white font-semibold border-indigo-500 shadow-lg;
}

.calendar-day.selected {
    @apply ring-2 ring-offset-2 ring-offset-gray-900 ring-indigo-400 bg-gray-700 transform scale-105;
}

/* Workout markers - more visible and better positioned */
.workout-marker {
    @apply absolute bottom-2 left-2 right-2 h-2 rounded-full;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.workout-push { @apply bg-red-500; }
.workout-pull { @apply bg-blue-500; }
.workout-legs { @apply bg-green-500; }
.workout-rest { @apply bg-gray-500; }

/* iOS button styles - 44pt minimum */
.btn-ios {
    min-height: 44px;
    min-width: 44px;
    @apply px-4 py-3 rounded-xl font-semibold text-base;
    @apply bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700;
    @apply text-white transition-colors duration-150;
    @apply flex items-center justify-center;
}

.btn-ios-secondary {
    min-height: 44px;
    min-width: 44px;
    @apply px-4 py-3 rounded-xl font-semibold text-base;
    @apply bg-gray-600 hover:bg-gray-700 active:bg-gray-800;
    @apply text-white transition-colors duration-150;
    @apply flex items-center justify-center;
}

.btn-ios-stepper {
    min-height: 44px;
    min-width: 44px;
    @apply rounded-lg font-bold text-lg;
    @apply bg-gray-600 hover:bg-gray-500 active:bg-gray-700;
    @apply text-white transition-colors duration-150;
    @apply flex items-center justify-center;
}

/* iOS input styles */
.input-ios {
    min-height: 44px;
    @apply px-4 py-3 rounded-lg text-center font-semibold text-lg;
    @apply bg-gray-800 text-white border-2 border-transparent;
    @apply focus:border-indigo-500 focus:outline-none;
    @apply transition-colors duration-150;
}

.input-ios:focus {
    @apply border-indigo-500;
    outline: none;
}

/* iOS navigation styles */
.nav-ios {
    @apply bg-gray-800 border-b border-gray-700;
    padding-top: calc(8px + env(safe-area-inset-top));
    padding-bottom: 8px;
}

.tab-ios {
    min-height: 44px;
    @apply flex items-center justify-center px-3 py-2;
    @apply text-xs font-medium;
    @apply text-gray-400 hover:text-white;
    @apply transition-colors duration-150;
}

.tab-ios.active {
    @apply text-indigo-400;
}

/* iOS modal and sheet styles */
.modal-backdrop {
  @apply fixed inset-0 bg-black/75 flex items-center justify-center z-50 transition-opacity duration-300;
}

.modal-content {
    @apply bg-gray-800 rounded-t-3xl shadow-xl p-6 w-full max-w-sm text-center transform transition-all duration-300 scale-95;
    margin-bottom: env(safe-area-inset-bottom);
}

.modal-hidden {
    @apply opacity-0 pointer-events-none;
}

.modal-visible {
    @apply opacity-100 scale-100;
}

/* iOS bottom sheet */
.bottom-sheet {
    @apply fixed bottom-0 left-0 right-0 bg-gray-800 rounded-t-3xl shadow-2xl;
    padding-bottom: env(safe-area-inset-bottom);
    transform: translateY(100%);
    transition: transform 0.3s ease-out;
}

.bottom-sheet.open {
    transform: translateY(0);
}

/* Loading Spinner */
.spinner {
    @apply w-12 h-12 border-4 border-t-indigo-500 border-gray-600 rounded-full animate-spin;
}

/* Helper for hiding elements */
.hidden {
    display: none;
}

/* Inline panel animations */
@keyframes slide-down {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-down {
    animation: slide-down 0.3s ease-out;
}

/* Inline workout panel positioning */
.inline-workout-panel {
    @apply w-full;
    z-index: 10; /* Ensure it appears above other elements */
}

/* Gym-optimized UI styles */
.workout-active {
    background: #0a0a0a;
}

.btn-primary {
    @apply bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg;
    min-height: 56px;
    font-size: 18px;
}

.workout-input {
    @apply bg-gray-800 text-white text-3xl font-bold text-center rounded-lg p-4;
    min-height: 64px;
    border: 2px solid transparent;
}

.workout-input:focus {
    border-color: #6366f1;
    outline: none;
}

.timer-display {
    @apply text-4xl font-mono font-bold text-indigo-400;
}

/* Enhanced touch targets for mobile */
.touch-target {
    min-height: 48px;
    min-width: 48px;
}

/* High contrast buttons for gym lighting */
.btn-gym {
    @apply font-bold py-3 px-4 rounded-lg shadow-lg transition-all;
    min-height: 48px;
    font-size: 16px;
}

.btn-gym:active {
    transform: scale(0.95);
}

/* Set completion indicators */
.set-complete {
    @apply bg-green-600 text-white;
}

.set-incomplete {
    @apply bg-gray-600 text-gray-400 hover:bg-gray-500;
}

/* Rest timer styling */
.rest-timer-active {
    @apply bg-blue-900/30 border border-blue-500/50;
}

.rest-timer-complete {
    @apply bg-green-900/30 border border-green-500/50;
}

/* iOS haptic feedback classes */
.haptic-light {
    /* Light impact feedback */
}

.haptic-medium {
    /* Medium impact feedback */
}

.haptic-heavy {
    /* Heavy impact feedback */
}

.haptic-success {
    /* Success notification feedback */
}

.haptic-error {
    /* Error notification feedback */
}

/* Responsive typography scale */
.text-responsive-xs { font-size: clamp(0.75rem, 2vw, 0.875rem); }
.text-responsive-sm { font-size: clamp(0.875rem, 2.5vw, 1rem); }
.text-responsive-base { font-size: clamp(1rem, 3vw, 1.125rem); }
.text-responsive-lg { font-size: clamp(1.125rem, 3.5vw, 1.25rem); }
.text-responsive-xl { font-size: clamp(1.25rem, 4vw, 1.5rem); }
.text-responsive-2xl { font-size: clamp(1.5rem, 5vw, 2rem); }

/* Mobile-first spacing */
.container-responsive {
  @apply px-4 sm:px-6 md:px-8 lg:px-12;
}

/* Thumb zone optimization (bottom 1/3 of screen) */
.thumb-zone {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
  background: linear-gradient(to top, rgba(17, 24, 39, 1) 70%, rgba(17, 24, 39, 0));
}

/* iOS accessibility improvements */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .calendar-day {
        @apply border-2 border-white;
    }
    
    .btn-ios {
        @apply border-2 border-white;
    }
}